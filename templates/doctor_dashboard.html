{% extends 'base.html' %}

{% block title %}Doctor Dashboard - AuthFlow{% endblock %}

{% block content %}
<h2 class="text-4xl font-extrabold text-center mb-8 text-gray-800">Welcome, Dr. {{ user.last_name }}!</h2>
<div class="bg-green-50 p-6 rounded-xl shadow-md mb-8 border border-green-200">
    <h3 class="text-2xl font-semibold text-gray-800 mb-4 border-b-2 border-green-300 pb-3">Your Profile Summary:</h3>
    
    <div class="flex flex-col md:flex-row items-center md:items-start gap-6 mb-6">
        <div class="w-28 h-28 flex-shrink-0 rounded-full overflow-hidden border-4 border-green-400 shadow-md">
            {% if user.profile_picture_path %}
                <img src="{{ user.profile_picture_path }}" alt="Profile Picture" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/112x112/cccccc/333333?text=N/A';">
            {% else %}
                <!-- Simple SVG placeholder for no profile picture -->
                <svg class="w-full h-full text-green-500 p-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
            {% endif %}
        </div>
        <div class="flex-grow text-center md:text-left">
            <p class="text-xl font-bold text-gray-900">{{ user.first_name }} {{ user.last_name }}</p>
            <p class="text-lg text-gray-700 mt-1">{{ user.user_type }} | {{ user.username }}</p>
            <p class="text-md text-gray-600 mt-1"><a href="mailto:{{ user.email }}" class="text-indigo-600 hover:underline">{{ user.email }}</a></p>
        </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4 text-gray-700 text-lg">
        <div>
            <p><strong class="font-semibold text-gray-900">Address Line 1:</strong> {{ user.address_line1 if user.address_line1 else 'N/A' }}</p>
            <p><strong class="font-semibold text-gray-900">City:</strong> {{ user.address_city if user.address_city else 'N/A' }}</p>
        </div>
        <div>
            <p><strong class="font-semibold text-gray-900">State:</strong> {{ user.address_state if user.address_state else 'N/A' }}</p>
            <p><strong class="font-semibold text-gray-900">Pincode:</strong> {{ user.address_pincode if user.address_pincode else 'N/A' }}</p>
        </div>
    </div>
</div>

<div class="bg-green-100 p-5 rounded-xl text-center mb-8 border border-green-300 shadow-sm">
    <p class="text-green-800 text-lg font-medium">
        As a doctor, you can view patient records, manage your schedule, write prescriptions, and much more!
    </p>
</div>

<a href="{{ url_for('logout') }}"
   class="block w-full text-center bg-gradient-to-r from-red-600 to-rose-700 text-white py-3 rounded-lg font-bold text-lg hover:from-red-700 hover:to-rose-800 focus:outline-none focus:ring-4 focus:ring-red-500 focus:ring-opacity-50 transition duration-300 ease-in-out transform hover:scale-105 shadow-lg">
    Log Out
</a>
{% endblock %}